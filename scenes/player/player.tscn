[gd_scene load_steps=91 format=3 uid="uid://bqxq8g2clwngp"]

[ext_resource type="Script" uid="uid://crou4jxvkhskt" path="res://scenes/player/player.gd" id="1_qjkh3"]
[ext_resource type="PackedScene" uid="uid://ommuxdvjy63d" path="res://assets/meshes/characters/player.glb" id="1_yw30f"]
[ext_resource type="Script" uid="uid://tg2nqyfd0vap" path="res://scripts/custom_nodes/separator.gd" id="2_5mf0n"]
[ext_resource type="Script" uid="uid://cxw3k38ixgrb5" path="res://scripts/custom_nodes/components/follow_components/follow_two_components.gd" id="2_lgqa7"]
[ext_resource type="Shader" uid="uid://dihrx78lkr8a1" path="res://assets/shaders/spatials/pixelart_edge_detect.gdshader" id="3_0owmy"]
[ext_resource type="Script" uid="uid://co1h5yj8mqdm0" path="res://scripts/custom_nodes/interaction_shapecast.gd" id="4_8ydkj"]
[ext_resource type="Script" uid="uid://bvghbptl0smqe" path="res://scenes/player/edge_detect_shader.gd" id="4_qek5x"]
[ext_resource type="Script" uid="uid://cm4a4yywol8hm" path="res://scripts/custom_nodes/state_machine_overrides/player_state_machine.gd" id="5_je7p5"]
[ext_resource type="Script" uid="uid://4ghmh77xi4xu" path="res://scenes/player/states/grounded.gd" id="6_ugbui"]
[ext_resource type="Script" uid="uid://cmnrkomo3al5" path="res://scenes/player/states/idle.gd" id="7_je7p5"]
[ext_resource type="Script" uid="uid://dero042hjjbjp" path="res://scripts/custom_nodes/state_machine_overrides/player_atomic_state.gd" id="7_ugbui"]
[ext_resource type="Script" uid="uid://benv32v0t8kpn" path="res://scenes/player/states/moving.gd" id="8_fm80t"]
[ext_resource type="Script" uid="uid://dnoq8ordnxqvj" path="res://addons/simple_state_machine/node_classes/state_machine_tree.gd" id="9_5gtgg"]
[ext_resource type="Theme" uid="uid://cir2tavsj3675" path="res://assets/resources/themes/player_debug_gui.tres" id="9_kvlxm"]
[ext_resource type="Script" uid="uid://5tyfdtkc6po6" path="res://scenes/player/states/walking.gd" id="9_myrg7"]
[ext_resource type="Script" uid="uid://ckdemtj5gcev8" path="res://scenes/player/states/sprinting.gd" id="10_kvlxm"]
[ext_resource type="Script" uid="uid://bvqp284nyeb44" path="res://scenes/player/states/airborne.gd" id="10_ugbui"]
[ext_resource type="Script" uid="uid://duymi0wq38b31" path="res://scenes/player/states/jumping.gd" id="11_fcs02"]
[ext_resource type="Script" uid="uid://cuuk0gmh2bta2" path="res://scenes/player/states/sprint_jumping.gd" id="15_8ydkj"]
[ext_resource type="Script" uid="uid://c36j1y7hacaex" path="res://scenes/player/states/no_action.gd" id="17_3j4b4"]
[ext_resource type="Script" uid="uid://ct1nqkvr8f82q" path="res://scripts/custom_nodes/prop_watcher.gd" id="17_uf5tr"]
[ext_resource type="Script" uid="uid://btj2r5mbga8vp" path="res://scenes/player/states/action_key_1.gd" id="18_yj68g"]
[ext_resource type="Script" uid="uid://daspn6ole5cg1" path="res://scenes/player/states/lift_box_up.gd" id="19_6cv16"]
[ext_resource type="Script" uid="uid://1o1fe5huic8p" path="res://scenes/player/states/generic_action_1.gd" id="19_ioxgp"]
[ext_resource type="Script" uid="uid://beyjs28cmuwrn" path="res://scenes/player/states/talking.gd" id="19_iqsei"]
[ext_resource type="Script" uid="uid://c31ssgjfxfob6" path="res://scenes/player/states/put_box_down.gd" id="20_j4nxn"]
[ext_resource type="Script" uid="uid://ckixyr2ap8g58" path="res://scenes/player/states/generic_action_2.gd" id="21_cnsyf"]
[ext_resource type="Script" uid="uid://mr747imet3lw" path="res://scenes/player/states/action_key_2.gd" id="22_j4nxn"]
[ext_resource type="Script" uid="uid://cgp3m6n0ob8bo" path="res://scenes/player/states/store_box.gd" id="23_28m0y"]
[ext_resource type="Script" uid="uid://b8q67hl0x6ggc" path="res://scenes/player/states/get_stored_box.gd" id="24_uniwh"]
[ext_resource type="Texture2D" uid="uid://d1mi4fl4ma6xl" path="res://assets/textures/shadow.png" id="25_007i1"]
[ext_resource type="Script" uid="uid://b22cne1t34icq" path="res://scenes/player/debug_menu.gd" id="27_tffgl"]
[ext_resource type="Script" uid="uid://c83cmmvxk4k68" path="res://addons/quest_manager/quest_manager_debug.gd" id="30_pk8ii"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_yw30f"]
radius = 0.2265625
height = 1.3320313

[sub_resource type="BoxShape3D" id="BoxShape3D_uf5tr"]
size = Vector3(0.4, 0.4, 0.4)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_8ydkj"]
radius = 0.2
height = 1.3

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qek5x"]
render_priority = 0
shader = ExtResource("3_0owmy")
shader_parameter/lightIntensity = 2.0
shader_parameter/lineAlpha = 0.45
shader_parameter/useLighting = true
shader_parameter/lineHighlight = 0.2
shader_parameter/lineShadow = 0.55

[sub_resource type="QuadMesh" id="QuadMesh_75vfm"]
material = SubResource("ShaderMaterial_qek5x")
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_iqsei"]
animation = &"PutBoxDown2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_j4nxn"]
animation = &"HoldBox"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uniwh"]
animation = &"LiftBox1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tffgl"]
animation = &"LiftBox2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pk8ii"]
animation = &"StoreBox1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5mf0n"]
animation = &"StoreBox2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4hvnv"]
animation = &"GetStoredBox1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bbmj2"]
animation = &"GetStoredBox2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kxw46"]
animation = &"PutBoxDown1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_28m0y"]
animation = &"RESET"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_uniwh"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_pk8ii"]

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_j4nxn"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_j4nxn"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_iqsei"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_5mf0n"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_4hvnv"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_tffgl"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_28m0y"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_j4nxn"]
graph_offset = Vector2(-813.5233, -80.458755)
nodes/output/position = Vector2(680, 60)
nodes/lift_box_1/node = SubResource("AnimationNodeOneShot_j4nxn")
nodes/lift_box_1/position = Vector2(-1700, 60)
nodes/Animation/node = SubResource("AnimationNodeAnimation_28m0y")
nodes/Animation/position = Vector2(-2080, 0)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_j4nxn")
"nodes/Animation 2/position" = Vector2(-2080, 180)
nodes/holding_box/node = SubResource("AnimationNodeBlend2_j4nxn")
nodes/holding_box/position = Vector2(-1900, 40)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_uniwh")
"nodes/Animation 3/position" = Vector2(-1900, 300)
nodes/lift_box_2/node = SubResource("AnimationNodeOneShot_iqsei")
nodes/lift_box_2/position = Vector2(-1420, 60)
nodes/store_box_1/node = SubResource("AnimationNodeOneShot_tffgl")
nodes/store_box_1/position = Vector2(-1140, 60)
nodes/store_box_2/node = SubResource("AnimationNodeOneShot_28m0y")
nodes/store_box_2/position = Vector2(-860, 60)
nodes/get_stored_box_1/node = SubResource("AnimationNodeOneShot_uniwh")
nodes/get_stored_box_1/position = Vector2(-540, 60)
nodes/get_stored_box_2/node = SubResource("AnimationNodeOneShot_pk8ii")
nodes/get_stored_box_2/position = Vector2(-200, 60)
nodes/put_box_down_1/node = SubResource("AnimationNodeOneShot_5mf0n")
nodes/put_box_down_1/position = Vector2(140, 60)
nodes/put_box_down_2/node = SubResource("AnimationNodeOneShot_4hvnv")
nodes/put_box_down_2/position = Vector2(480, 60)
"nodes/Animation 4/node" = SubResource("AnimationNodeAnimation_tffgl")
"nodes/Animation 4/position" = Vector2(-1560, 220)
"nodes/Animation 5/node" = SubResource("AnimationNodeAnimation_pk8ii")
"nodes/Animation 5/position" = Vector2(-1280, 220)
"nodes/Animation 6/node" = SubResource("AnimationNodeAnimation_5mf0n")
"nodes/Animation 6/position" = Vector2(-1000, 220)
"nodes/Animation 7/node" = SubResource("AnimationNodeAnimation_4hvnv")
"nodes/Animation 7/position" = Vector2(-720, 220)
"nodes/Animation 8/node" = SubResource("AnimationNodeAnimation_bbmj2")
"nodes/Animation 8/position" = Vector2(-380, 220)
"nodes/Animation 9/node" = SubResource("AnimationNodeAnimation_kxw46")
"nodes/Animation 9/position" = Vector2(-40, 220)
"nodes/Animation 10/node" = SubResource("AnimationNodeAnimation_iqsei")
"nodes/Animation 10/position" = Vector2(300, 220)
node_connections = [&"output", 0, &"put_box_down_2", &"lift_box_1", 0, &"holding_box", &"lift_box_1", 1, &"Animation 3", &"holding_box", 0, &"Animation", &"holding_box", 1, &"Animation 2", &"lift_box_2", 0, &"lift_box_1", &"lift_box_2", 1, &"Animation 4", &"store_box_1", 0, &"lift_box_2", &"store_box_1", 1, &"Animation 5", &"store_box_2", 0, &"store_box_1", &"store_box_2", 1, &"Animation 6", &"get_stored_box_1", 0, &"store_box_2", &"get_stored_box_1", 1, &"Animation 7", &"get_stored_box_2", 0, &"get_stored_box_1", &"get_stored_box_2", 1, &"Animation 8", &"put_box_down_1", 0, &"get_stored_box_2", &"put_box_down_1", 1, &"Animation 9", &"put_box_down_2", 0, &"put_box_down_1", &"put_box_down_2", 1, &"Animation 10"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_28m0y"]
graph_offset = Vector2(-537.0444, -12.992325)
nodes/BoxActions/node = SubResource("AnimationNodeBlendTree_j4nxn")
nodes/BoxActions/position = Vector2(-80, 140)
node_connections = [&"output", 0, &"BoxActions"]

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_j4nxn"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uf5tr"]
animation = &"Fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lgqa7"]
animation = &"Jump"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6cv16"]
advance_mode = 2
advance_expression = "velocity.y < 0.0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uniwh"]
advance_mode = 2
advance_expression = "velocity.y > 0.0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_j4nxn"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.y > 0.0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_28m0y"]
xfade_time = 0.4
advance_mode = 2
advance_expression = "velocity.y < 0.0"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_fcs02"]
states/Fall/node = SubResource("AnimationNodeAnimation_uf5tr")
states/Fall/position = Vector2(480, 25)
states/Jump/node = SubResource("AnimationNodeAnimation_lgqa7")
states/Jump/position = Vector2(480, 154)
transitions = ["Start", "Fall", SubResource("AnimationNodeStateMachineTransition_6cv16"), "Start", "Jump", SubResource("AnimationNodeStateMachineTransition_uniwh"), "Fall", "Jump", SubResource("AnimationNodeStateMachineTransition_j4nxn"), "Jump", "Fall", SubResource("AnimationNodeStateMachineTransition_28m0y")]
graph_offset = Vector2(-125, -29)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8ydkj"]
animation = &"Grounded"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fcs02"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3j4b4"]
animation = &"Walk"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_yj68g"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_ioxgp"]
graph_offset = Vector2(-611.667, -6.339752)
nodes/Animation/node = SubResource("AnimationNodeAnimation_3j4b4")
nodes/Animation/position = Vector2(-100, 140)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_yj68g")
nodes/TimeScale/position = Vector2(120, 140)
node_connections = [&"output", 0, &"TimeScale", &"TimeScale", 0, &"Animation"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_myrg7"]
animation = &"Run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kvlxm"]
animation = &"Walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ioxgp"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cnsyf"]
xfade_time = 0.2
switch_mode = 1
advance_mode = 2
advance_expression = "sprint_speed_modifier != 0.0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_007i1"]
xfade_time = 0.2
switch_mode = 1
advance_mode = 2
advance_expression = "sprint_speed_modifier == 0.0"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_kvlxm"]
states/Run/node = SubResource("AnimationNodeAnimation_myrg7")
states/Run/position = Vector2(471, 159)
"states/Run 2/node" = SubResource("AnimationNodeBlendTree_ioxgp")
"states/Run 2/position" = Vector2(593, 152)
states/Walk/node = SubResource("AnimationNodeAnimation_kvlxm")
states/Walk/position = Vector2(559, -7)
transitions = ["Start", "Walk", SubResource("AnimationNodeStateMachineTransition_ioxgp"), "Walk", "Run 2", SubResource("AnimationNodeStateMachineTransition_cnsyf"), "Run 2", "Walk", SubResource("AnimationNodeStateMachineTransition_007i1")]
graph_offset = Vector2(-29, -38)

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3j4b4"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "input_dir.length() != 0.0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_yj68g"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "input_dir.length() == 0.0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_iqsei"]
xfade_time = 0.1
advance_mode = 2
advance_expression = "input_dir.length() != 0.0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_tffgl"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8ydkj"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_myrg7"]
states/Grounded/node = SubResource("AnimationNodeAnimation_8ydkj")
states/Grounded/position = Vector2(217, 148)
states/Idle/node = SubResource("AnimationNodeAnimation_fcs02")
states/Idle/position = Vector2(491, 29)
states/Moving/node = SubResource("AnimationNodeStateMachine_kvlxm")
states/Moving/position = Vector2(491, 143)
states/Start/position = Vector2(50, 94)
transitions = ["Idle", "Moving", SubResource("AnimationNodeStateMachineTransition_3j4b4"), "Moving", "Idle", SubResource("AnimationNodeStateMachineTransition_yj68g"), "Grounded", "Moving", SubResource("AnimationNodeStateMachineTransition_iqsei"), "Grounded", "Idle", SubResource("AnimationNodeStateMachineTransition_tffgl"), "Start", "Idle", SubResource("AnimationNodeStateMachineTransition_8ydkj")]
graph_offset = Vector2(-70, 5)

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kvlxm"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uf5tr"]
xfade_time = 0.1
advance_mode = 2
advance_expression = "not is_on_floor()"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lgqa7"]
xfade_time = 0.05
advance_mode = 2
advance_expression = "is_on_floor()"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_8ydkj"]
states/Airborne/node = SubResource("AnimationNodeStateMachine_fcs02")
states/Airborne/position = Vector2(472, 204)
states/Grounded/node = SubResource("AnimationNodeStateMachine_myrg7")
states/Grounded/position = Vector2(472, 110)
states/Start/position = Vector2(121, 118)
transitions = ["Start", "Grounded", SubResource("AnimationNodeStateMachineTransition_kvlxm"), "Grounded", "Airborne", SubResource("AnimationNodeStateMachineTransition_uf5tr"), "Airborne", "Grounded", SubResource("AnimationNodeStateMachineTransition_lgqa7")]
graph_offset = Vector2(-123, 49)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_g6k8r"]
graph_offset = Vector2(-527.609, -8.432251)
nodes/output/position = Vector2(400, 140)
nodes/MovementASM/node = SubResource("AnimationNodeStateMachine_8ydkj")
nodes/MovementASM/position = Vector2(-360, -40)
nodes/ActionsActive/node = SubResource("AnimationNodeAdd2_j4nxn")
nodes/ActionsActive/position = Vector2(40, 140)
nodes/Actions/node = SubResource("AnimationNodeBlendTree_28m0y")
nodes/Actions/position = Vector2(-280, 360)
node_connections = [&"output", 0, &"ActionsActive", &"ActionsActive", 0, &"MovementASM", &"ActionsActive", 1, &"Actions"]

[sub_resource type="SphereShape3D" id="SphereShape3D_007i1"]
radius = 0.05

[node name="Player" type="CharacterBody3D" unique_id=1881103756 node_paths=PackedStringArray("player_mesh", "property_watcher", "held_box_collision", "interaction_shapecast", "animation_tree", "stored_box_pos")]
script = ExtResource("1_qjkh3")
player_mesh = NodePath("PlayerMesh")
property_watcher = NodePath("DebugMenu/MarginContainer/VBoxContainer/PropertyWatcher")
held_box_collision = NodePath("HeldBoxCollision")
interaction_shapecast = NodePath("PlayerMesh/Armature/Skeleton3D/BoneAttachment3D/InteractionShapeCast3D")
animation_tree = NodePath("AnimationTree")
stored_box_pos = NodePath("PlayerMesh/Armature/Skeleton3D/BoneAttachment3D/StoredBoxPos")

[node name="≡≡≡≡ 3D ≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡" type="Node" parent="." unique_id=2026376183]
script = ExtResource("2_5mf0n")
shown_name = "3D"
metadata/_custom_type_script = "uid://tg2nqyfd0vap"

[node name="BodyPhysicsCollision" type="CollisionShape3D" parent="." unique_id=448778154]
shape = SubResource("CapsuleShape3D_yw30f")
debug_color = Color(0, 0.6, 0.69803923, 1)

[node name="HeldBoxCollision" type="CollisionShape3D" parent="." unique_id=959410043]
transform = Transform3D(0.9999884, 0, -1.7881054e-07, 0, 0.99998605, 0, 1.7881186e-07, 0, 0.999981, 0, 0.1785183, -0.015029911)
shape = SubResource("BoxShape3D_uf5tr")
disabled = true
debug_color = Color(0.9843137, 0, 0.34117648, 1)
debug_fill = false

[node name="FollowTwoComponents" type="Node" parent="HeldBoxCollision" unique_id=226288049 node_paths=PackedStringArray("secondary_follow_target", "follow_target")]
script = ExtResource("2_lgqa7")
secondary_follow_target = NodePath("../../PlayerMesh/Armature/Skeleton3D/LeftHandFollow")
follow_target = NodePath("../../PlayerMesh/Armature/Skeleton3D/RightHandFollow")
lock_rot_x = true
lock_rot_z = true
metadata/_custom_type_script = "uid://cxw3k38ixgrb5"

[node name="PlayerMesh" parent="." unique_id=622812468 instance=ExtResource("1_yw30f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.66282046, 0.025740147)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="PlayerMesh/Armature/Skeleton3D" parent_id_path=PackedInt32Array(622812468, 2017219212) index="1" unique_id=1694849618]
transform = Transform3D(1, 1.0658141e-14, -2.384186e-07, -1.6042723e-14, 1, -2.9802322e-08, 2.384186e-07, 0, 1, 5.3245905e-16, 0.82301635, -0.026590534)
bone_name = "Torso"
bone_idx = 6

[node name="InteractionShapeCast3D" type="ShapeCast3D" parent="PlayerMesh/Armature/Skeleton3D/BoneAttachment3D" unique_id=835055237 node_paths=PackedStringArray("player")]
transform = Transform3D(1, 0, 0, 0, 1.0000001, 0, 0, 0, 1, 5.7740823e-10, -0.18835229, -2.7939677e-09)
shape = SubResource("CapsuleShape3D_8ydkj")
target_position = Vector3(0, 0, 0.8)
collision_mask = 2
collide_with_areas = true
script = ExtResource("4_8ydkj")
player = NodePath("../../../../..")
metadata/_custom_type_script = "uid://co1h5yj8mqdm0"

[node name="StoredBoxPos" type="Marker3D" parent="PlayerMesh/Armature/Skeleton3D/BoneAttachment3D" unique_id=1363384198]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.480383e-08, 0.53215444, -0.22986388)
gizmo_extents = 0.1

[node name="LeftHandFollow" type="BoneAttachment3D" parent="PlayerMesh/Armature/Skeleton3D" parent_id_path=PackedInt32Array(622812468, 2017219212) index="2" unique_id=1893219202]
transform = Transform3D(-0.62649864, -0.116581224, 0.7706545, 0.6609278, -0.6035417, 0.4459958, 0.41312727, 0.7887628, 0.45516962, 0.22031204, 0.84133875, -0.040770058)
bone_name = "Hand.L"
bone_idx = 14

[node name="RightHandFollow" type="BoneAttachment3D" parent="PlayerMesh/Armature/Skeleton3D" parent_id_path=PackedInt32Array(622812468, 2017219212) index="3" unique_id=1807193486]
transform = Transform3D(-0.62649816, 0.11658106, -0.7706546, -0.66092783, -0.6035413, 0.44599563, -0.41312733, 0.78876257, 0.45516932, -0.22031204, 0.84133875, -0.040770058)
bone_name = "Hand.R"
bone_idx = 18

[node name="Camera3D" type="Camera3D" parent="." unique_id=1411627232]
transform = Transform3D(1, 0, 0, 0, 0.7592713, 0.65077424, 0, -0.65077424, 0.7592713, 0, 6, 6.5)
projection = 1
size = 8.0
near = 2.0
far = 50.0

[node name="EdgeDetectShader" type="MeshInstance3D" parent="Camera3D" unique_id=1442432445]
visible = false
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_75vfm")
script = ExtResource("4_qek5x")

[node name="AnimationTree" type="AnimationTree" parent="." unique_id=1435591476]
root_node = NodePath("../PlayerMesh")
tree_root = SubResource("AnimationNodeBlendTree_g6k8r")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../PlayerMesh/AnimationPlayer")
"parameters/MovementASM/Grounded/Moving/Run 2/TimeScale/scale" = 2.0
parameters/ActionsActive/add_amount = 1.0
parameters/Actions/BoxActions/lift_box_1/active = false
parameters/Actions/BoxActions/lift_box_1/internal_active = false
parameters/Actions/BoxActions/lift_box_1/request = 0
parameters/Actions/BoxActions/holding_box/blend_amount = 0.0
parameters/Actions/BoxActions/lift_box_2/active = false
parameters/Actions/BoxActions/lift_box_2/internal_active = false
parameters/Actions/BoxActions/lift_box_2/request = 0
parameters/Actions/BoxActions/store_box_1/active = false
parameters/Actions/BoxActions/store_box_1/internal_active = false
parameters/Actions/BoxActions/store_box_1/request = 0
parameters/Actions/BoxActions/store_box_2/active = false
parameters/Actions/BoxActions/store_box_2/internal_active = false
parameters/Actions/BoxActions/store_box_2/request = 0
parameters/Actions/BoxActions/get_stored_box_1/active = false
parameters/Actions/BoxActions/get_stored_box_1/internal_active = false
parameters/Actions/BoxActions/get_stored_box_1/request = 0
parameters/Actions/BoxActions/get_stored_box_2/active = false
parameters/Actions/BoxActions/get_stored_box_2/internal_active = false
parameters/Actions/BoxActions/get_stored_box_2/request = 0
parameters/Actions/BoxActions/put_box_down_1/active = false
parameters/Actions/BoxActions/put_box_down_1/internal_active = false
parameters/Actions/BoxActions/put_box_down_1/request = 0
parameters/Actions/BoxActions/put_box_down_2/active = false
parameters/Actions/BoxActions/put_box_down_2/internal_active = false
parameters/Actions/BoxActions/put_box_down_2/request = 0

[node name="≡≡≡≡ State Machines ≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡" type="Node" parent="." unique_id=1326546195]
script = ExtResource("2_5mf0n")
shown_name = "State Machines"
metadata/_custom_type_script = "uid://tg2nqyfd0vap"

[node name="MovementFSM" type="Node" parent="." unique_id=891251310 node_paths=PackedStringArray("player", "initial_state")]
script = ExtResource("5_je7p5")
player = NodePath("..")
initial_state = NodePath("Grounded/Idle")
metadata/_custom_type_script = "uid://cm4a4yywol8hm"

[node name="Grounded" type="Node" parent="MovementFSM" unique_id=962563885 node_paths=PackedStringArray("default_state")]
script = ExtResource("6_ugbui")
default_state = NodePath("Idle")
metadata/_custom_type_script = "uid://bq223ht2poita"

[node name="Idle" type="Node" parent="MovementFSM/Grounded" unique_id=427860547]
script = ExtResource("7_je7p5")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="Moving" type="Node" parent="MovementFSM/Grounded" unique_id=1351389041 node_paths=PackedStringArray("default_state")]
script = ExtResource("8_fm80t")
default_state = NodePath("Walking")
metadata/_custom_type_script = "uid://bq223ht2poita"

[node name="Walking" type="Node" parent="MovementFSM/Grounded/Moving" unique_id=975640140]
script = ExtResource("9_myrg7")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="Sprinting" type="Node" parent="MovementFSM/Grounded/Moving" unique_id=1569140541]
script = ExtResource("10_kvlxm")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="Airborne" type="Node" parent="MovementFSM" unique_id=844173479 node_paths=PackedStringArray("default_state")]
script = ExtResource("10_ugbui")
default_state = NodePath("Falling")
metadata/_custom_type_script = "uid://bq223ht2poita"

[node name="Falling" type="Node" parent="MovementFSM/Airborne" unique_id=1290973071]
script = ExtResource("7_ugbui")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="Jumping" type="Node" parent="MovementFSM/Airborne" unique_id=7968546 node_paths=PackedStringArray("default_state")]
script = ExtResource("11_fcs02")
default_state = NodePath("WalkJumping")
metadata/_custom_type_script = "uid://bq223ht2poita"

[node name="WalkJumping" type="Node" parent="MovementFSM/Airborne/Jumping" unique_id=1399193020]
script = ExtResource("7_ugbui")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="SprintJumping" type="Node" parent="MovementFSM/Airborne/Jumping" unique_id=308123714]
script = ExtResource("15_8ydkj")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="ActionsFSM" type="Node" parent="." unique_id=1674374405 node_paths=PackedStringArray("player", "initial_state")]
script = ExtResource("5_je7p5")
player = NodePath("..")
initial_state = NodePath("NoAction")
metadata/_custom_type_script = "uid://cm4a4yywol8hm"

[node name="NoAction" type="Node" parent="ActionsFSM" unique_id=1373437551]
script = ExtResource("17_3j4b4")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="ActionKey1" type="Node" parent="ActionsFSM" unique_id=1344430372 node_paths=PackedStringArray("default_state")]
script = ExtResource("18_yj68g")
default_state = NodePath("GenericAction1")
metadata/_custom_type_script = "uid://bq223ht2poita"

[node name="Talking" type="Node" parent="ActionsFSM/ActionKey1" unique_id=1658899141]
script = ExtResource("19_iqsei")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="LiftBoxUp" type="Node" parent="ActionsFSM/ActionKey1" unique_id=702326395]
script = ExtResource("19_6cv16")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="PutBoxDown" type="Node" parent="ActionsFSM/ActionKey1" unique_id=287466887]
script = ExtResource("20_j4nxn")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="GenericAction1" type="Node" parent="ActionsFSM/ActionKey1" unique_id=600468271]
script = ExtResource("19_ioxgp")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="ActionKey2" type="Node" parent="ActionsFSM" unique_id=1401014901 node_paths=PackedStringArray("default_state")]
script = ExtResource("22_j4nxn")
default_state = NodePath("GenericAction2")
metadata/_custom_type_script = "uid://bq223ht2poita"

[node name="StoreBox" type="Node" parent="ActionsFSM/ActionKey2" unique_id=467370479]
script = ExtResource("23_28m0y")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="GetStoredBox" type="Node" parent="ActionsFSM/ActionKey2" unique_id=1959208565]
script = ExtResource("24_uniwh")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="GenericAction2" type="Node" parent="ActionsFSM/ActionKey2" unique_id=1468085357]
script = ExtResource("21_cnsyf")
metadata/_custom_type_script = "uid://dero042hjjbjp"

[node name="≡≡≡≡ GUI ≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡" type="Node" parent="." unique_id=237170885]
script = ExtResource("2_5mf0n")
shown_name = "GUI"
metadata/_custom_type_script = "uid://tg2nqyfd0vap"

[node name="HUD" type="CanvasLayer" parent="." unique_id=28864392]

[node name="DebugMenu" type="CanvasLayer" parent="." unique_id=571525341]
layer = 100
script = ExtResource("27_tffgl")

[node name="MarginContainer" type="MarginContainer" parent="DebugMenu" unique_id=1920073963]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("9_kvlxm")
theme_override_constants/margin_left = 1
theme_override_constants/margin_top = 1
theme_override_constants/margin_right = 1
theme_override_constants/margin_bottom = 1

[node name="VBoxContainer" type="VBoxContainer" parent="DebugMenu/MarginContainer" unique_id=1438694064]
layout_mode = 2

[node name="PropertyWatcher" type="VBoxContainer" parent="DebugMenu/MarginContainer/VBoxContainer" unique_id=627723326]
layout_mode = 2
theme = ExtResource("9_kvlxm")
theme_override_constants/separation = 0
script = ExtResource("17_uf5tr")
metadata/_custom_type_script = "uid://ct1nqkvr8f82q"

[node name="QuestManagerDebug" type="ItemList" parent="DebugMenu/MarginContainer/VBoxContainer" unique_id=1764478723]
custom_minimum_size = Vector2(10, 0)
layout_mode = 2
size_flags_horizontal = 2
auto_width = true
auto_height = true
item_count = 2
item_0/text = "Current Quests List"
item_1/text = "___________________"
script = ExtResource("30_pk8ii")
metadata/_custom_type_script = "uid://c83cmmvxk4k68"

[node name="MarginContainer2" type="MarginContainer" parent="DebugMenu" unique_id=33157099]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -85.0
offset_bottom = 81.0
grow_horizontal = 0
theme = ExtResource("9_kvlxm")
theme_override_constants/margin_left = 1
theme_override_constants/margin_top = 1
theme_override_constants/margin_right = 1
theme_override_constants/margin_bottom = 1

[node name="VBoxContainer2" type="VBoxContainer" parent="DebugMenu/MarginContainer2" unique_id=623425502]
layout_mode = 2
theme_override_constants/separation = 1

[node name="ActionsFSMTree" type="Tree" parent="DebugMenu/MarginContainer2/VBoxContainer2" unique_id=1872175985 node_paths=PackedStringArray("fsm_to_watch")]
layout_mode = 2
allow_search = false
hide_folding = true
scroll_horizontal_enabled = false
scroll_vertical_enabled = false
auto_tooltip = false
script = ExtResource("9_5gtgg")
fsm_to_watch = NodePath("../../../../ActionsFSM")
metadata/_custom_type_script = "uid://dnoq8ordnxqvj"

[node name="MovementFSMTree" type="Tree" parent="DebugMenu/MarginContainer2/VBoxContainer2" unique_id=651319678 node_paths=PackedStringArray("fsm_to_watch")]
layout_mode = 2
allow_search = false
hide_folding = true
scroll_horizontal_enabled = false
scroll_vertical_enabled = false
auto_tooltip = false
script = ExtResource("9_5gtgg")
fsm_to_watch = NodePath("../../../../MovementFSM")
metadata/_custom_type_script = "uid://dnoq8ordnxqvj"

[node name="Shadow" type="SpringArm3D" parent="." unique_id=1468902414]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, -0.619429, 0)
shape = SubResource("SphereShape3D_007i1")
spring_length = 1000.0

[node name="Node3D" type="Node3D" parent="Shadow" unique_id=185719537]

[node name="Decal" type="Decal" parent="Shadow/Node3D" unique_id=1786731206]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 4.240034e-08, 0.47472155)
size = Vector3(0.8, 1.3639703, 0.8)
texture_albedo = ExtResource("25_007i1")
upper_fade = 0.001056152
lower_fade = 0.006629124

[editable path="PlayerMesh"]
